<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bureau – La Bicyclette Bruzoise</title>
  <meta name="description" content="Les membres du bureau de la Bicyclette Bruzoise (Bruz).">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <!-- =========================
       Header (identique index.html)
       ========================= -->
  <header class="site-header">
    <div class="container header-inner">
      <a class="site-branding" href="index.html" aria-label="La Bicyclette Bruzoise — Accueil">
        <img class="brand-logo" src="assets/img/BBlogo.jpg" alt="Logo de la Bicyclette Bruzoise">
        <span class="brand-text">
          <span class="brand-title">La Bicyclette Bruzoise</span>
          <span class="brand-subtitle">Club cyclotourisme — Bruz</span>
        </span>
      </a>

      <nav class="main-nav" aria-label="Navigation principale">
        <button class="nav-toggle" type="button" aria-expanded="false" aria-controls="primary-menu">
          <span class="nav-toggle-icon" aria-hidden="true">☰</span>
          <span class="nav-toggle-label">Menu</span>
        </button>

        <ul id="primary-menu" class="nav-list">
          <li><a href="index.html" >Accueil</a></li>
          <li><a href="club.html">Le club</a></li>
          <!-- <li><a href="sorties.html">Les sorties</a></li>  Page en construction -->
          <!-- <li><a href="sejours.html">Les séjours</a></li> Page en construction -->
          <!-- <li><a href="randopedestres.html">Les randonnées pédestres</a></li> Page en construction -->
          <li><a href="circuits2026.html" class="nav-private">Circuit 2026</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="espace-adherents.html" class="nav-private">Espace adhérents</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="site-main">
    <!-- =========================
         Page header (même esprit que les pages internes)
         ========================= -->
    <section class="page-header">
      <div class="container">
        <h1>Le bureau</h1>
      </div>
    </section>

    <!-- =========================
         Accès adhérents (mot de passe)
         Note : protection "front-end" (dissuasion). Pour une vraie confidentialité,
         il faut une protection côté serveur (PHP/HTTP auth).
         ========================= -->
    <section class="home-sections">
      <div class="container">
        <article class="card">
          <img class="hero-logo" src="assets/img/logo1b3a.gif" alt="Logo de la Bicyclette Bruzoise">
          <h2>Composition - Missions </h2>
          <p>Le bureau est composé de 9 à 12 personnes maximum, bénévoles, 
          âgées de plus de 16 ans, élues à bulletin secret en assemblée générale, pour une durée de 3 ans et 
          renouvelable chaque année par tiers rééligible.</p>
          <p>Le bureau a pour objet de mettre en œuvre les décisions de l’assemblée générale, 
          d’organiser et d’aider à animer la vie de l’association par des commissions de bénévoles. 
          Le bureau choisit, parmi ses membres, à bulletin secret, en veillant à l’égal accès des hommes et des femmes,
           un(e) président(e), un(e) vice-président(e), un(e) trésorier(e), un(e) secrétaire, un(e) trésorier(e) adjoint(e), 
           un(e) secrétaire adjoint(e), un(e) ou deux délégué(e)s à la sécurité.</p>
        </article>
      </div>

    </section>

    <section class="home-sections">
      <div class="container">
      <!-- Contenu privé -->
        <div id="private-content" hidden>
          <article class="card">
            <h2>Membres du bureau</h2>
            <div id="bureau-grid" class="grids-3" aria-label="Membres du bureau"></div>
          </article>

           <article class="card">
          <h2>Accès réservé aux adhérents</h2>
          <p>Cette page est réservée aux adhérents. Saisissez le mot de passe pour afficher les informations.</p>

          <form id="private-access-form" class="login-form" autocomplete="off">
            <label for="private-password" class="sr-only">Mot de passe</label>
            <input id="private-password" type="password" inputmode="text" placeholder="Mot de passe" required>
            <button type="submit" class="btn primary">Déverrouiller</button>
            <button type="button" id="private-lock" class="btn secondary" hidden>Verrouiller</button>
            <p id="private-error" class="error-message" role="alert" hidden>Mot de passe incorrect.</p>
          </form>
        </article>
        </div>
      </div>
    </section>
  </main>

  <!-- =========================
       Footer (identique index.html)
       ========================= -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-left">
        <p>&copy; 2025 La Bicyclette Bruzoise – Club affilié à la FFVélo.</p>
        <p class="footer-meta">
          Bruz (35170) – Bretagne | Site réalisé par le club.
        </p>

        <p class="social-links">
          Suivez-nous :
          <a class="social-icon" href="https://www.instagram.com/labicyclettebruzoise/" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
            <span class="sr-only">Instagram</span>
            <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
              <path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm10 2a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10zm-5 3.5A4.5 4.5 0 1 0 16.5 12 4.51 4.51 0 0 0 12 7.5zm0 2A2.5 2.5 0 1 1 9.5 12 2.5 2.5 0 0 1 12 9.5zM17.75 6.25a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"/>
            </svg>
          </a>

          <a class="social-icon" href="https://www.facebook.com/profile.php?id=61586064200199" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
            <span class="sr-only">Facebook</span>
            <svg viewBox="0 0 24 24" role="img" aria-hidden="true">
              <path d="M13.5 22v-8h2.7l.4-3H13.5V9.1c0-.9.3-1.6 1.6-1.6h1.6V4.8c-.8-.1-1.6-.2-2.4-.2-2.4 0-4 1.5-4 4.2V11H8v3h2.3v8h3.2z"/>
            </svg>
          </a>
        </p>
      </div>
    </div>
  </footer>

  <script src="assets/js/main.js"></script>

  <!-- =========================
       Page logic: mot de passe + génération bureau
       ========================= -->
  <script>
    (function () {
      const PASSWORD = "Telgruc24";
      const SESSION_KEY = "bb_private_access";

      const form = document.getElementById("private-access-form");
      const input = document.getElementById("private-password");
      const error = document.getElementById("private-error");
      const lockBtn = document.getElementById("private-lock");
      const privateContent = document.getElementById("private-content");
      const bureauGrid = document.getElementById("bureau-grid");

      function normalizeForFilename(s) {
        return (s || "")
          .toString()
          .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // enlève les accents
          .replace(/[^a-zA-Z0-9]/g, "")                      // enlève espaces/traits d'union
          .toLowerCase();
      }

      // À RENSEIGNER : liste du bureau (nom/prénom/fonction)
      // Le fichier photo doit s'appeler "nomprenom.jpg" (ex. dupontjean.jpg).

      const bureauMembers = [
  { nom: "Barre", prenom: "Mickaël", fonction: "Président", photo: "barremickael.jpg" },
  { nom: "Hébert", prenom: "Anita", fonction: "Vice-présidente", photo: "hebertanita.jpg" },
  { nom: "Mahé", prenom: "Jérôme", fonction: "Secrétaire • Webmaster adjoint", photo: "mahejerome.jpg" },
  { nom: "Rossignol", prenom: "André", fonction: "Secrétaire adjoint • Circuits", photo: "rossignolandre.jpg" },
  { nom: "Fix", prenom: "Christophe", fonction: "Trésorier", photo: "fixchristophe.jpg" },
  { nom: "Monsigny", prenom: "Marc", fonction: "Trésorier adjoint • Séjours Club", photo: "monsignymarc.jpg" },
  { nom: "Prod’Homme", prenom: "Gérard", fonction: "Festivités", photo: "prodhommegerard.jpg" },
  { nom: "Fournier", prenom: "Jannick", fonction: "Festivités", photo: "fournierjannick.jpg" },
  { nom: "Frérou", prenom: "Joël", fonction: "Délégué à la sécurité • Circuits • Formations", photo: "freroujoel.jpg" },
  { nom: "Beaupère", prenom: "Alain", fonction: "Logistique", photo: "beauperealain.jpg" },
  { nom: "Gillet", prenom: "François", fonction: "Communication", photo: "gilletfrancois.jpg" },
];

      function renderBureau() {
        bureauGrid.innerHTML = "";
        bureauMembers.forEach(m => {
          const filename = normalizeForFilename(m.nom) + normalizeForFilename(m.prenom) + ".jpg";
          const imgSrc = "assets/bureau/img/" + filename;

          const card = document.createElement("article");
          card.className = "card member-card";

          const img = document.createElement("img");
          img.className = "member-photo";
          img.src = imgSrc;
          img.alt = (m.prenom + " " + m.nom).trim();
          img.loading = "lazy";
          img.onerror = () => { img.src = "assets/img/BBlogo.jpg"; };

          const meta = document.createElement("div");
          meta.className = "member-meta";

          const h3 = document.createElement("h3");
          h3.textContent = (m.prenom + " " + m.nom).trim();

          const p = document.createElement("p");
          p.className = "member-role";
          p.textContent = m.fonction || "";

          meta.appendChild(h3);
          meta.appendChild(p);

          card.appendChild(img);
          card.appendChild(meta);

          bureauGrid.appendChild(card);
        });
      }

      function unlock() {
        sessionStorage.setItem(SESSION_KEY, "1");
        error.hidden = true;
        privateContent.hidden = false;
        lockBtn.hidden = false;
        input.value = "";
        renderBureau();
      }

      function lock() {
        sessionStorage.removeItem(SESSION_KEY);
        privateContent.hidden = true;
        lockBtn.hidden = true;
        error.hidden = true;
      }

      // Auto-unlock si déjà validé dans la session
      if (sessionStorage.getItem(SESSION_KEY) === "1") {
        unlock();
      }

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        if (input.value === PASSWORD) {
          unlock();
        } else {
          error.hidden = false;
        }
      });

      lockBtn.addEventListener("click", lock);
    })();
  </script>
</body>
</html>
